(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{14:function(e,t,n){},22:function(e,t,n){e.exports=n(48)},27:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(15),r=n.n(c),s=(n(27),n(19)),i=n(4),l=n(16),u=n(17),f=n(20),m=n(18),g=n(21),d=n(3),h=n.n(d),p={base:("http://localhost:3033"===window.location.href?"http://localhost:3000/api/":window.location.href+"api/")+"logs",get:function(){var e=this;return new Promise((function(t,n){h.a.get(e.base).then((function(e){return t(e.data)})).catch(n)}))},delete:function(e){var t=this;return new Promise((function(n,a){h.a.delete("".concat(t.base,"/").concat(e)).then((function(e){return n(e.data)})).catch(a)}))},add:function(e){var t=this;return new Promise((function(n,a){h.a.post(t.base,{log:e}).then((function(e){return n(e.data)})).catch(a)}))}},v=(n(45),{SHOPPING:"SHOPPING",SUPERMARKET:"SUPERMARKET",HANGOUT:"HANGOUT",OTHER:"OTHER"}),E={SHOPPING:"Shopping",SUPERMARKET:"Supermarket",HANGOUT:"Hangout",OTHER:"Other"},b={SHOPPING:"fas fa-gem",SUPERMARKET:"fas fa-shopping-basket",HANGOUT:"fas fa-glass-cheers",OTHER:"fas fa-coins"},N=function(e){return+e>0?"+":+e<0?"-":""},w=function(e){return"+"===e?{color:"forestgreen"}:"-"===e?{color:"crimson"}:{}},O=function(e,t){var n=Math.abs(parseInt(e));return"".concat(t).concat(n,"$")};function L(e){var t,n=e.log,a=e.removeLog,c=N(n.amount);return o.a.createElement("div",{className:"log"},o.a.createElement("div",{className:"log-icon"},o.a.createElement("i",{className:b[n.category]})),o.a.createElement("div",{className:"log-description"},o.a.createElement("h3",null,n.title),o.a.createElement("span",null,(t=n.timestamp,new Date(t).toLocaleString()))),o.a.createElement("div",{className:"log-amount",style:w(c)},o.a.createElement("span",null,O(n.amount,c))),o.a.createElement("div",{className:"log-action",onClick:function(){return a(n._id)}},o.a.createElement("i",{className:"fas fa-times"})))}n(46);function y(e){var t=e.filter,n=e.setNewFilter;return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",borderBottom:"1px solid #33333310",width:"fit-content",margin:"auto"}},Object.keys(v).map((function(e){return o.a.createElement("div",{key:e,className:t===e?"category selected-category":"category",onClick:function(){return n(e)}},o.a.createElement("i",{className:b[e]}))})))}n(14);function S(e){var t,n,a=e.Logs,c=e.removeLog,r=e.setNewFilter,s=e.filter;return t=a.reduce((function(e,t){return e+parseInt(t.amount)}),0),n=N(t),o.a.createElement("div",{style:{marginBottom:"15px"}},o.a.createElement(y,{filter:s,setNewFilter:r}),o.a.createElement("div",{className:"total-balance",style:w(n)},O(t,n)),a.map((function(e){return o.a.createElement(L,{removeLog:c,key:e._id,log:e})})))}var j=n(2);n(47);function k(e){var t=e.addNewLog,n=Object(a.useState)(""),c=Object(j.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(0),l=Object(j.a)(i,2),u=l[0],f=l[1],m=o.a.createRef(),g=Object(a.useState)(Object.keys(E)[0]),d=Object(j.a)(g,2),h=d[0],p=d[1],v=Object(a.useState)(!1),b=Object(j.a)(v,2),N=b[0],w=b[1];return o.a.createElement("div",{className:"add-container"},o.a.createElement("div",{className:!1===N?"inputs":"btn btn-reverse",onClick:function(){return w(!1)}},"X"),o.a.createElement("div",{className:!1===N?"inputs":"inputs show-inputs"},o.a.createElement("input",{type:"text",className:"log-input",value:r,placeholder:"Title",onChange:function(e){s(e.target.value)}.bind(this)}),o.a.createElement("select",{className:"log-input",value:h,onChange:function(e){p(e.target.value)}.bind(this)},Object.keys(E).map((function(e){return o.a.createElement("option",{key:e,value:e},E[e])}))),o.a.createElement("input",{type:"text",className:"log-input",ref:m,onClick:function(){return m.current.select()},value:u,onChange:function(e){var t=e.target.value.match(/^[-]?\d*$/);null!==t&&f(t[0])}})),o.a.createElement("button",{onMouseOver:function(){return w(!0)},className:"btn",onClick:function(){if(!1!==N){var e={title:r||"Untitled",amount:+u||0,category:h,timestamp:new Date};t(e),s(""),f(0),p(Object.keys(E)[0]),w(!1)}else w(!0)},style:!1===N?{borderRadius:"50%"}:{}},o.a.createElement("i",{className:"fas fa-plus"}),N&&"Add"))}var F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(f.a)(this,Object(m.a)(t).call(this))).setLogs=function(t){e.setState((function(e){return Object(i.a)({},e,{Logs:t})}))},e.setFilter=function(t){e.setState((function(e){return Object(i.a)({},e,{Filter:t})}))},e.setLogsToShow=function(t){e.setState((function(e){return Object(i.a)({},e,{LogsToShow:t})}))},e.removeLog=function(t){p.delete(t).then((function(n){if(n.success){var a=e.state.Logs.filter((function(e){return e._id!==t}));e.setLogs(a),e.updateFilteredLogs(a)}})).catch((function(e){console.log(e)}))},e.addNewLog=function(t){p.add(t).then((function(t){var n=[t].concat(Object(s.a)(e.state.Logs));e.setLogs(n),e.updateFilteredLogs(n)})).catch((function(e){console.log(e)}))},e.updateFilteredLogs=function(t){e.setLogsToShow(t.filter((function(t){return null===e.state.Filter?t:t.category===e.state.Filter})))},e.setNewFilter=function(t){var n=null==t?e.state.Filter:e.state.Filter===t?null:t;e.setFilter(n),e.setLogsToShow(e.state.Logs.filter((function(e){return null===n?e:e.category===t})))},e.state={Logs:[],Filter:null,LogsToShow:[]},p.get().then((function(t){e.setLogs(t),e.updateFilteredLogs(t)})).catch((function(t){e.setLogs([])})),e}return Object(g.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Expenses Calculator"),o.a.createElement(k,{addNewLog:this.addNewLog}),o.a.createElement(S,{removeLog:this.removeLog,filter:this.state.Filter,setNewFilter:this.setNewFilter,Logs:this.state.LogsToShow}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.d2c33629.chunk.js.map